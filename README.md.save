# Hellcrazyrabbit_infra
## Домашнее задание Знакомство с облачной инфраструктурой GCP
- [x]Создание инфраструктуры и удаленное подключение
	- [x] Самостоятельное задание 
- [X]Создание VPN-сервера
	- [X] Дополнительное задание

### Самостоятельное задание
 Для удобства сквозного подключения к внутреннему хосту через bastion
следует использовать ~/.ssh/config настройки
`````
Host bastion
        ForwardAgent yes
        Hostname **host_ip**
        User **user_name**
        IdentityFile ~/.ssh/vendikato

Host sih
        Hostname **host_ip**
        User **user_name**
        ProxyCommand ssh **user_name**@**host_ip** nc %h %p 2> /dev/null
`````
Описание использования и доп. информацию можно подчерпнуть [отсюда]https://www.cyberciti.biz/faq/create-ssh-config-file-on-linux-unix/

### Дополнительное задание
К серверу привязан SSL сертификат сгенерированный автоматически ботом Let`s encrypt
[Инструкции для настройки]
Так же был выделен домен 3го уровня и направлен DNS хостингом на IP VPN-сервера
 
## Конфигурация VPN-сервера для проверки

- bastion_IP = 35.232.76.112

- someinternalhost_IP = 10.128.0.3

`````
 hostname - vpn
 someinternalhost alias - sih 
`````
## Домашнее задание Основные сервисы GCP

### Деплой тестового приложения через GUI GCP
Следуя инструкции развернут новый инстанс и опубликовано приложение
**Самостоятельная работа:**
- [x] Написать скрипты установки Ruby, MongoDB и расзвертывания приложения

### Проверка ДЗ
testapp_IP = 35.198.167.169

testapp_port = 9292

### Дополнительное задание

-[x] Создание startup_script для создания инстанса
`````

